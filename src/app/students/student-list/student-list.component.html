<div class="filter">
  <label for="filter">Поиск: </label>
  <input
    [(ngModel)]="searchValue"
    id="filter"
    name="filter"
    placeholder="Введите имя или фамилию"
  />
</div>
<div class="filter">
  <label for="filter_program">Поиск 2: </label>
  <select
    [(ngModel)]="programValue"
    id="filter_program"
    name="filter_program"
  >
    <option [ngValue]="studentProgram.web">Веб-технологии</option>
    <option [ngValue]="studentProgram.security">Информационная безопасность</option>
    <option [ngValue]="studentProgram.big_data">Большие и открытые данные</option>
    <option [ngValue]="studentProgram.cad">Интеграция и программирование в САПР</option>
  </select>
</div>

<div *ngIf="(students | filterStudents: searchValue | filterPrograms: programValue).length > 0" class="list">
  <table>
    <tr>
      <th><a
        (click)="changeOrderIdState()"
      >{{orderId}}</a></th>
      <th><a
        (click)="changeOrderSurnameState()"
      >{{orderSurname}}</a></th>
      <th>Группа</th>
      <th>Программа обучения</th>
      <th colspan="2">
        <button
          (click)="onAddProfile()"
          class="add"
        >
          Добавить
        </button>
      </th>
    </tr>
    <tr *ngFor="let student of students | orderBy: orderType:orderState | filterStudents: searchValue | filterPrograms: programValue">
      <th>{{student.id}}</th>
      <td>{{student.surname}} {{student.name.charAt(0) + '.'}} {{student.patronymic !== undefined ? student.patronymic!.charAt(0) + '.' : ''}}</td>
      <td>{{student.group}}</td>
<!--      <td>{{getAge(student)}}</td>-->
      <td>{{programs[student.program]}}</td>
      <td>
        <button
          (click)="onLinkProfile(student.id)"
          class="redact"
        >
          Редактировать
        </button>
      </td>
      <td>
        <button
          (click)="onDelete(student.id)"
          class="delete"
        >
          Удалить
        </button>
      </td>
    </tr>
  </table>
</div>
